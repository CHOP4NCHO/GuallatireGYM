<!--correo admin: admin@mail.com
    contraseña  : 1234
-->
<!DOCTYPE html>
<html lang="en">
  <head>
  {% load static %}
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static './css/home.css'%}">
    <title>Miembros</title>
</head>
<body style="height: 1000px">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <a style="margin-left:10px;"class="navbar-brand" href="/">Gimnasio Guallatire</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav mr-auto">
          </ul>
        </div>
      </nav>
    <div class="container-fluid" style="margin-top:20px;">

<div class="row">
    <div class="col-md-4 offset-md-4">
        <h2 style="color: white;">Edicion de miembros</h2>
        <div class ="card">
            <div class ="card-body"></div>
            <form action="/UsuarioEditado/" method="POST">{% csrf_token %}
                <div class="mb-3" style="display:none;">
                    <input type="text" name="id" value="{{usuario.id}}" readonly class="form-control" >
                </div>
                <div class="form-group mb-3">
                    <label>Nombres</label>
                    <input type="text" name="nombre" class ="form-control" value="{{usuario.nombre}}" placeholder="Nombre">
                </div>
                <div class="form-group mb-3">
                    <label>Apellido</label>
                    <input type="text" name="apellido" class="form-control"value="{{usuario.apellido}}" placeholder="Apellido">
                </div>
                <div class="form-group mb-3">
                    <label>Correo</label>
                    <input type="email" name="email" class="form-control" value="{{usuario.user.email}}"placeholder="Correo">
                </div>
                <div class="form-group mb-3">
                    <label>Rol</label>
                    <select onchange="mostrarEntrenador(this)" id ="rol"name="rol" class="form-control">
                        {%if usuario.rol == "Cliente"%}
                        <option selected value ="Cliente">Cliente</option>
                        <option value ="Entrenador">Entrenador</option>
                        {%elif usuario.rol == "Entrenador"%}
                        <option value ="Cliente">Cliente</option>
                        <option selected value ="Entrenador">Entrenador</option>
                        {%endif%}
                      </select>
                </div>
                <div class="form-group md-2">
                    <label id="labelEntrenador">Modificar entrenador asignado (<i>solo administrador</i>) </label>
                    <select name="entrenador" id="entrenador" class="form-select">
                        <option value="">...</option>
                        {%for i in Entrenadores%}
                        <option value="{{i.nombre}}">{{i.nombre}}</option>
                        {%endfor%}
                    </select>
                </div>
                <div class="form-group col-md-4">
                  <label for="inputState">Sexo</label>
                  <select onchange="" id ="sexo"name="sexo" class="form-control">
                    <option value ="Cliente">Masculino</option>
                    <option value ="Entrenador">Femenino</option>
                  </select>
                </div>
                <div class="form-group col-md-6">
                  <label>Altura<i>(en cm)</i></label>
                  <input type="number" value="{{usuario.altura}}"class="form-control" name="altura"placeholder="" style="max-width: 500px;">
                </div>
                <div class="form-group col-md-6">
                  <label>Peso<i>(en kg)</i></label>
                  <input type="number" value="{{usuario.peso}}" class="form-control" name="peso"placeholder="" style="max-width: 500px;">
                </div>
                <div class="form-group col-md-6">
                  <label>IMC</label>
                  <input type="number" value="{{usuario.imc}}" class="form-control" name="imc"placeholder="" style="max-width: 500px;">
                </div>
                <br>
                <div class="form-group mb-3">
                  <label>Estado</label>
                  <!--No funciona porque en la tabla todo la columa activo está en 0-->
                  {%if user.is_active == 0 %}
                  <select name="estado" id="estado" class="form-select">
                    <option value="0">Inactivo</option>
                    <option value="1">Activo</option>
                  </select>
                  {%elif user.is_active == 1%}
                  <select name="estado" id="estado" class="form-select">
                    <option value="1">Activo</option>
                    <option value="0">Inactivo</option>
                  </select>
                  {%endif%}
              </div>
                <div class="mb-3">
                    <button type="submit" class="btn btn-success btn-block ">Editar</button>
                </div>
            </form>
        </div>
    </div>
</div>
<script>
    if (document.getElementById('rol').value != "Cliente"){
        document.getElementById('entrenador').style = "display:none";
        document.getElementById('entrenador').value = "";
      document.getElementById('labelEntrenador').style = "display:none";
    }
    function mostrarEntrenador(opcion){
    valor = document.getElementById('rol').value;
    console.log(valor);
    if (valor != "Cliente"){
      document.getElementById('entrenador').style = "display:none";
      document.getElementById('labelEntrenador').style = "display:none";
      document.getElementById('entrenador').value = "";
      }
    else{
      document.getElementById('entrenador').style = "display:block";
      document.getElementById('labelEntrenador').style = "display:block";
    }
  }
 </script>
  </div>
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
  <script src="{% static 'js/gestionUsuario.js' %}"></script>
</body>
</html>


 